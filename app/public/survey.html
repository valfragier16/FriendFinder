
<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>FriendFinder</title>
  <link rel="shortcut icon" href="http://chittagongit.com//images/google-maps-person-icon/google-maps-person-icon-24.jpg" type="favicon">


  <!-- Latest compiled and minified CSS & JS -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">
  <script src="https://code.jquery.com/jquery.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>

  <!-- Font Awesome Glyphicons -->
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.1/css/font-awesome.min.css">

  <!-- Chosen -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/chosen/1.5.1/chosen.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/chosen/1.5.1/chosen.jquery.min.js"></script>

  <link href="http://materializecss.com/getting-started.html">
        <!-- Link to the jQuery Library -->
        <script type="text/javascript" src="https://code.jquery.com/jquery-2.1.1.min.js"></script>
    
        <!-- Including Font Awesome Icons -->
        <script src="https://use.fontawesome.com/b38c8ed4c7.js"></script>
      <!--Import Google Icon Font-->
        <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">

      <!-- Compiled and minified Materialize CSS -->
      <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.98.0/css/materialize.min.css">
      <!-- Compiled and minified Materialize JavaScript -->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/0.98.0/js/materialize.min.js"></script>

</head>

<body style="background: url(https://cdn10.phillymag.com/wp-content/uploads/2015/01/friends.jpg); background-size: 100%; background-repeat: no-repeat; position:center; background-attachment: fixed;">
  <main>
        <div class="container"style="background: rgba(0, 0, 0, 0.4); color: white;">
          <div class="row">
            <div class="col s12 z-depth-5 mainpanel">
              <div id="mainpanel-content">
                <h1 style="text-align: center;">Survey Questions</h1>
                <div class="divider"></div>
    
                <h3>About You</h3>
    
                <div class="input-field col s6">
                  <h5>Name (Required)</h5>
                  <img src="http://icons.iconarchive.com/icons/graphicloads/flat-finance/256/person-icon.png" style="height: 80px; width: 80px;">
                  <input type="text" class="validate" placeholder="Your Name Here" id="userName">
                </div>
    
                <div class="input-field col s6">
                  <h5>Link to Photo Image (Required)</h5>
                  <img src="https://cdn.pixabay.com/photo/2015/12/22/04/00/photo-1103594_1280.png" style="height: 82px; width: 82px;">
                  <input type="text" class="validate" placeholder="Photo Link Here" id="userPhoto">
                </div>
    
                <!-- Survey Questions -->
    
                <div class="input-field col s12">
                  <h3>Question 1</h3>
                  <h5>You would rather have tea than coffee.</h5>
                  <select id="question3">
                    <option value="" disabled selected>Choose your option</option>
                    <option value="1">1 (Strongly Disagree)</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                    <option value="5">5 (Strongly Agree)</option>
                  </select>
                </div>
    
                <div class="input-field col s12">
                  <h3>Question 2</h3>
                  <h5>Generally speaking, you rely more on your experience than your imagination.</h5>
                  <select id="question2">
                    <option value="" disabled selected>Choose your option</option>
                    <option value="1">1 (Strongly Disagree)</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                    <option value="5">5 (Strongly Agree)</option>
                  </select>
                </div>
    
                <div class="input-field col s12">
                  <h3>Question 3</h3>
                  <h5>You find it easy to stay relaxed and focused even when there is some pressure.</h5>
                  <select id="question3">
                    <option value="" disabled selected>Choose your option</option>
                    <option value="1">1 (Strongly Disagree)</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                    <option value="5">5 (Strongly Agree)</option>
                  </select>
                </div>
    
                <div class="input-field col s12">
                  <h3>Question 4</h3>
                  <h5>You regularly do something just out of sheer curiosity.</h5>
                  <select id="question4">
                    <option value="" disabled selected>Choose your option</option>
                    <option value="1">1 (Strongly Disagree)</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                    <option value="5">5 (Strongly Agree)</option>
                  </select>
                </div>
    
                <div class="input-field col s12">
                  <h3>Question 5</h3>
                  <h5>People can typically depend on you.</h5>
                  <select id="question5">
                    <option value="" disabled selected>Choose your option</option>
                    <option value="1">1 (Strongly Disagree)</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                    <option value="5">5 (Strongly Agree)</option>
                  </select>
                </div>
    
                <div class="input-field col s12">
                  <h3>Question 6</h3>
                  <h5>It is often difficult for you to relate to other people’s feelings.</h5>
                  <select id="question6">
                    <option value="" disabled selected>Choose your option</option>
                    <option value="1">1 (Strongly Disagree)</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                    <option value="5">5 (Strongly Agree)</option>
                  </select>
                </div>
    
                <div class="input-field col s12">
                  <h3>Question 7</h3>
                  <h5>In a discussion, truth should be more important than people’s sensitivities.</h5>
                  <select id="question7">
                    <option value="" disabled selected>Choose your option</option>
                    <option value="1">1 (Strongly Disagree)</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                    <option value="5">5 (Strongly Agree)</option>
                  </select>
                </div>
    
                <div class="input-field col s12">
                  <h3>Question 8</h3>
                  <h5>You typically get carried away by fantasies and ideas.</h5>
                  <select id="question8">
                    <option value="" disabled selected>Choose your option</option>
                    <option value="1">1 (Strongly Disagree)</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                    <option value="5">5 (Strongly Agree)</option>
                  </select>
                </div>
    
                <div class="input-field col s12">
                  <h3>Question 9</h3>
                  <h5>You think that everyone’s views should be respected regardless of whether they are supported by facts or not.</h5>
                  <select id="question9">
                    <option value="" disabled selected>Choose your option</option>
                    <option value="1">1 (Strongly Disagree)</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                    <option value="5">5 (Strongly Agree)</option>
                  </select>
                </div>
    
                <div class="input-field col s12">
                  <h3>Question 10</h3>
                  <h5>You enjoy staying home and relaxing versus going out.</h5>
                  <select id="question10">
                    <option value="" disabled selected>Choose your option</option>
                    <option value="1">1 (Strongly Disagree)</option>
                    <option value="2">2</option>
                    <option value="3">3</option>
                    <option value="4">4</option>
                    <option value="5">5 (Strongly Agree)</option>
                  </select>
                </div>
    
                <!-- Survey Submit Button -->
                <div>
                  <button type="submit" class="btn btn-primary btn-lg btn-block" id="submitButton" name="action"><i class="fa fa-check-circle" aria-hidden="true"></i>
                    Submit</button>
                </div>
              </div>
            </div>
          </div>
        </div>
      </main>
    
      <footer class="footer">
        <div class="container">
          <p><a href="/api/friends" target="_blank">API Friends List</a> | <a href="https://github.com/valfragier16/FriendFinder" target="_blank">GitHub Repo</a></p>
        </div>
      </footer>
    
      <!-- Modal Dialog Displaying Closest Friend Match -->
      <div id="modal1" class="modal">
        <div class="modal-content">
          <h4>Closest Friend Match</h4>
          <div class="divider"></div>
          <h5 id="userMatch"></h5>
          <img id="userMatchImage" class="materialboxed" width="650" src="">
        </div>
        <div class="modal-footer">
          <a href="/survey" class="modal-action modal-close waves-effect waves-green btn-flat">Fill Again!</a>
        </div>
      </div>
    
      <script type="text/javascript">
        $(document).ready(function() {
          $('select').material_select();
          $('.modal').modal({
            dismissible: false,
            opacity: .5,
            inDuration: 300,
            outDuration: 200,
            startingTop: '4%',
            endingTop: '10%'
          });
        });

        // Activate submit button
        $('#submitButton').on('click', function(event) {
          event.preventDefault();
          // Gather user inputs
          var userInput = {
            name: $('#userName').val().trim(),
            photo: $('#userPhoto').val().trim(),
            scores:[
              $('#question1').val().trim(),
              $('#question2').val().trim(),
              $('#question3').val().trim(),
              $('#question4').val().trim(),
              $('#question5').val().trim(),
              $('#question6').val().trim(),
              $('#question7').val().trim(),
              $('#question8').val().trim(),
              $('#question9').val().trim(),
              $('#question10').val().trim()
            ]
          };

          // Add user inputs to friends list
          $.post('/api/friends', userInput)
              .done(function(data) {
;
                // Set the name and image values of friend match
                $('#userMatch').html(data.matchName);
              $("#userMatchImage").attr("src", data.matchImage);
              // Pop open the modal dialog
                $('#modal1').modal('open');
              });
        });
      </script>
    </body>
    </html>